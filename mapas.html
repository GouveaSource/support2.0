<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mapas - Suporte</title>

  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style/mapas.css">
  <link rel="icon" type="image/x-icon" href="images/Logo_ico.ico">

  
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="index.html" style="color: var(--laranja); font-weight: bold;">Inicio</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="contatos.html"><i class="bi bi-telephone"></i> Contatos</a></li>
          <li class="nav-item"><a class="nav-link" href="enderecos.html"><i class="bi bi-geo-alt"></i> Endereços</a></li>
          <li class="nav-item"><a class="nav-link" href="mapas.html"><i class="bi bi-map"></i> Mapas</a></li>
          <li class="nav-item"><a class="nav-link" href="acionamento.html"><i class="bi bi-megaphone"></i> Acionamento</a></li>
          <li class="nav-item"><a class="nav-link" href="procedimentos.html"><i class="bi bi-journal-text"></i> Procedimentos</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Conteúdo -->
  <main>
    <div class="section" style="margin-top: 80px;">
      <div class="container">
        <div class="card">
          <h2 class="text-center mb-4">Selecione um Pátio</h2>

          <select id="patioSelect" class="form-select">
            <option value="">Escolha um Pátio</option>
            <option value="PATIOSDER">PATIOS DER</option>
            <option value="ARARAQUARA">ARARAQUARA</option>
            <option value="BARRETOS">BARRETOS</option>
            <option value="BOTUCATU">BOTUCATU</option>
            <option value="CABRALIA">CABRALIA</option>
            <option value="DRACENA">DRACENA</option>
            <option value="GUARARAPES">GUARARAPES</option>
            <option value="JAÚ">JAÚ</option>
            <option value="MARILIA">MARILIA</option>
            <option value="OURINHOS">OURINHOS</option>
            <option value="PRESIDENTE PRUDENTE">PRESIDENTE PRUDENTE</option>
            <option value="SANTANA">SANTANA</option>
            <option value="SJ. DO RIO PRETO">SJ. DO RIO PRETO</option>
            <option value="SOROCABA">SOROCABA</option>
            <option value="TEODORO SAMPAIO">TEODORO SAMPAIO</option>
            <option value="UBATUBA">UBATUBA</option>
          </select>

          <div class="mapa-container mt-4" id="mapContainer" style="display: none;">
            <iframe id="mapIframe" src="" width="100%" height="500" style="border:0;" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    © 2025 Grupo Carvalho.
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const patioLinks = {
      "PATIOSDER": "https://www.google.com/maps/d/embed?mid=1_LHhYyW-j8ULbHiKq1PwJxA3x_WiR7w&ehbc=2E312F&noprof=1",
      "ARARAQUARA": "https://www.google.com/maps/d/embed?mid=1DHSIn8Vmme3PeKDWLOYRb0pzLxSMBXc&ehbc=2E312F&noprof=1",
      "BARRETOS": "https://www.google.com/maps/d/embed?mid=1IeT3x3iT4fCfjzR-z51XJO0vLlbsUKU&ehbc=2E312F&noprof=1",
      "BOTUCATU": "https://www.google.com/maps/d/embed?mid=1g_zWH3OXSRma54iKeKK_f5FXbuJxP1w&ehbc=2E312F&noprof=1",
      "CABRALIA": "https://www.google.com/maps/d/embed?mid=1eaBcrMFhLz_hTkvOwGz0YWUw1heHjos&hl=pt-BR&ehbc=2E312F&noprof=1",
      "DRACENA": "https://www.google.com/maps/d/embed?mid=1IiKgQ897NfBa-W68tuWIDapJhht1UfU&ehbc=2E312F&noprof=1",
      "GUARARAPES": "https://www.google.com/maps/d/embed?mid=1ji8_ajDGxUo9PVjrUeNzToqmqLVHk4c&ehbc=2E312F&noprof=1",
      "JAÚ": "https://www.google.com/maps/d/embed?mid=1s3BfBnr91WYOnHb6ziEcH8yVl-1DUsA&ehbc=2E312F&noprof=1",
      "MARILIA": "https://www.google.com/maps/d/embed?mid=1s_owlBVB2-AKBAte2AGpxHMTQEkerwk&ehbc=2E312F&noprof=1",
      "OURINHOS": "https://www.google.com/maps/d/embed?mid=1KEcuT0HJi-SYLQsjLde9ty4W8mU7g-4&ehbc=2E312F&noprof=1",
      "PRESIDENTE PRUDENTE": "https://www.google.com/maps/d/embed?mid=1H3bxFx-kfWBqzbfZDRgCU7i88geK5Mk&ehbc=2E312F&noprof=1",
      "SANTANA": "https://www.google.com/maps/d/embed?mid=1npaa4CLuBZYh0z_Gl3YMLbNbXyFuwGE&hl=pt-BR&ehbc=2E312F&noprof=1",
      "SJ. DO RIO PRETO": "https://www.google.com/maps/d/embed?mid=193SoD2_8UsqOy1Ca_oboG4xQKlL-OGI&ehbc=2E312F&noprof=1",
      "SOROCABA": "https://www.google.com/maps/d/embed?mid=1qNOaw59aS8LqJAdR9RRBDRzyP8wFplQ&ehbc=2E312F&noprof=1",
      "TEODORO SAMPAIO": "https://www.google.com/maps/d/embed?mid=1YebdY_rC85pReWZSzwCM9yv97nG4Y08&ehbc=2E312F&noprof=1",
      "UBATUBA": "https://www.google.com/maps/d/embed?mid=1W51HDt6pg0jpvxowjw5adsNECCPupcM&ehbc=2E312F&noprof=1"
    };

    const select = document.getElementById('patioSelect');
    const iframe = document.getElementById('mapIframe');
    const mapContainer = document.getElementById('mapContainer');

    select.addEventListener('change', function () {
      const link = patioLinks[this.value];
      if (link) {
        iframe.src = link;
        mapContainer.style.display = 'block';
      } else {
        mapContainer.style.display = 'none';
      }
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Define o caminho da página de login e da política
      const loginPage = 'login.html';
      const policyPage = 'politica-interna.html';

      // Pega o caminho atual da URL
      const currentPath = window.location.pathname.split('/').pop();

      // Verifica se o usuário está logado (pela flag no localStorage)
      const isLoggedIn = localStorage.getItem('loggedIn');
      // Verifica se a política foi aceita
      const policyAccepted = sessionStorage.getItem('policyAccepted');

      // Se o usuário NÃO estiver logado E não estiver na página de login ou política, redireciona para o login
      if (!isLoggedIn && currentPath !== loginPage && currentPath !== policyPage) {
        window.location.href = loginPage;
        return; // Sai da função para evitar processamento desnecessário
      }

      // Se o usuário estiver logado, mas a política AINDA NÃO foi aceita, redireciona para a página da política
      // Isso acontecerá uma única vez, no primeiro acesso após o login
      if (isLoggedIn && !policyAccepted && currentPath !== policyPage) {
        window.location.href = policyPage;
        return; // Sai da função
      }
    });
  </script>
</body>
</html>
</body>

</html>
